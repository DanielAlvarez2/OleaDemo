<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager</title>
    
    <link rel="stylesheet" href="manager.css">
    <script
      src="https://kit.fontawesome.com/21ef82ed30.js"
      crossorigin="anonymous"
    ></script>
    <style>
      
      .special{
            margin-bottom: 0px;
        }
       
        #controls{
            line-height:30px;
            font-size:19px;
        }
        #riojas, #controls{
            width:5in;
            height:8in;
            background:white;
            border:solid 1px black;
            padding: 0px 0px;
            display:inline-block;
            
        }
        #riojas{
            position: relative;
        }
        #riojas{
            padding-top:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls-riojas' && info[i].name == 'padding-top'){ 
                        
                        %>
                        <%= info[i].pixels %>
            <%
                    } 
                } 
            %>;

            padding-left:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls-riojas' && info[i].name == 'padding-sides'){ %>
                        <%= info[i].pixels%>
            <%
                    } 
                } 
            %>;
            
            padding-right:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls-riojas' && info[i].name == 'padding-sides'){ %>
                        <%= info[i].pixels%>
            <%
                    } 
                } 
            %>;
            
        }
        
        ul{
            font-family:serif;
        }
        
        #specials li{
            padding-top:            
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls' && info[i].name == 'menuItemsPadding'){ 
                        let half=(info[i].pixels).substring(0,info[i].pixels.length-2)/2
                        %>
                        <%= half%>px
            <%
                    } 
                } 
            %>;
            padding-bottom:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls' && info[i].name == 'menuItemsPadding'){ 
                        let half=(info[i].pixels).substring(0,info[i].pixels.length-2)/2
                        %>
                        <%= half%>px
            <%
                    } 
                } 
            %>;
            line-height:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls' && info[i].name == 'lineHeight'){ %>
                        <%= info[i].pixels%>
            <%
                    } 
                } 
            %>;
            font-size:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls-riojas' && info[i].name == 'riojasFontSize'){ %>
                        <%= info[i].pixels%>
            <%
                    } 
                } 
            %>;
        }
        input{
            text-align: center;
        }
        #legal-disclaimer{
            position:absolute;
            bottom:0;
            padding-bottom:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls' && info[i].name == 'legalBottomPadding'){ 
                        
                        %>
                        <%= info[i].pixels %>
            <%
                    } 
                } 
            %>;

            left:0px;
            padding-left: inherit;
            padding-right: inherit;
            font-size:
            <% 
                for (let i=0; i<info.length; i++){
                    if (info[i].category == 'controls' && info[i].name == 'legalDisclaimerFontSize'){ 
                        
                        %>
                        <%= info[i].pixels %>
            <%
                    } 
                } 
            %>;

        }
        #legal-toggle{
            cursor:pointer;
            font-size:25px;
        }
        .hidden{
            visibility:hidden;
        }
        .remove{
            display:none;
        }
        #flexbox{
            display:flex;
            margin: 0 auto;
        }
     
        @media (orientation: landscape){
            #flexbox{
                flex-direction: row;
            }
            /* @media (max-width: 8.5in){
                #wrapper{
                    width:8.5in;
                }
            } */
        }
        @media (orientation: portrait){
            #flexbox{
                flex-direction: column;
            }
            /* @media (max-width: 4.25in){
                #wrapper{
                    width:4.25in;
                }
            } */

        }

    </style>
</head>










<body>

    <div id="wrapper">
    <div id="content">

    <nav>
        <h1>olea<span id="content-manager">Content Manager</span></h1>
        <ul>
            <li class="active-page">Specials</li>
            <a href="/dinnerUpdateCuredMeats"><li>Dinner</li></a>
            <li>Dessert</li>
            <li>Wine/Drinks</li>
            <a href="/archive"><li id="archive">Archive</li></a>
        </ul>
        <ul id="nav-ul-bottom">
            <a href="/manager"><li id="specials-edit">Edit Menu Items</li></a>
            <li class="active-page" id="specials-format-layout">Format Layout</li>
            <a href="/specialsPrintPreview"><li id="specials-print-preview">Print Preview</li></a>
            </ul>
    </nav>
    
    
    
    <h1 id="page-title">riojas</h1>
    <div id="flexbox">    

            <div id="controls">
                <form method="POST" action="/saveChangesRiojas">
                    FORMAT PAGE LAYOUT<br>
                    Page Space Left & Right: <input name="riojasPaddingSides" id="riojas-padding-sides" type="text" size="2"> px <br>
                    Page Space Top: <input name="riojasPaddingTop" id="riojas-padding-top" type="text" size="2"> px <br>
                    "today's specials" Space Bottom: <input name="h1paddingBottom" id="todays-specials-padding-bottom" type="text" size="2"> px <br>
                    Space between sections: <input name="headingsPadding" id="headings-padding" type="text" size="2"> px <br>
                    Space between menu items: <input name="menuItemsPadding" id="menu-items-padding" type="text" size="2"> px <br>
                    Space between lines of menu items: <input name="lineHeight" id="menu-items-line-height" type="text" size="2"> px <br>
                    Space below headings: <input name="headingsPaddingBottom" id="headings-padding-bottom" type="text" size="2"> px <br>
                  
                    
                   

                    Font Size: <input name="riojasFontSize" id="riojas-font-size" type="text" size="2"> px<br>
                    <button id="clear-changes">Clear Changes</button> 
                    <input type="submit" id="save-changes" value="Save Changes"> 
                    <button id="print-preview">Print Preview</button>
                </form>
            </div><!--#controls-->















                
            <div id="riojas">
            
                <ul>
                <% for(let i=0; i<info.length;i++){ %>
                    <% if (info[i].region == "Rioja"){ %>
                    <li class="special">

                        <span>$<%= info[i].price %></span>
                        <span class="name"><%= info[i].name %></span>
                        <span><%= info[i].description %></span>
                        <span><%= info[i].vintage %></span>
                        <span><%= info[i].producer %></span>
                    </li>
                    <% } %>
                <% } %>
                </ul>
                
            </div><!--#riojas-->
            
            
            </div><!--#flexbox-->

            <footer>
                <ul>
                    <li>Specials</li>
                    <li>Dinner</li>
                    <li>Dessert</li>
                    <li>Wine/Drinks</li>
                    <li>Archive</li>
                </ul>
            </footer>
            </div><!--#content-->
            </div><!--#wrapper-->
            <script src="main.js"></script>
            
            <script>
                let riojasPage = document.querySelector('#riojas')
                let riojasPaddingTop = document.querySelector('#riojas-padding-top')
                let riojasPaddingSides = document.querySelector('#riojas-padding-sides')
                let headingsPadding = document.querySelector('#headings-padding')
                let menuItemsPadding = document.querySelector('#menu-items-padding')
                let menuItemsLineHeight = document.querySelector('#menu-items-line-height')
                let headingsPaddingBottom = document.querySelector('#headings-padding-bottom')
                let todaysSpecials = document.querySelector('#todays-specials')
                let todaysSpecialsPaddingBottom = document.querySelector('#todays-specials-padding-bottom')
                let paddingBottomControl = document.querySelector('#padding-bottom-control')
                let legalToggle = document.querySelector('#legal-toggle')
                let legalDisclaimer = document.querySelector('#legal-disclaimer')
                let todaysSpecialsFontSize = document.querySelector('#todays-specials-font-size')
                let headingsFontSize = document.querySelector('#headings-font-size')
                let riojasFontSize = document.querySelector('#riojas-font-size')
                let p = document.querySelectorAll('.special')
                let appetizerHeading = document.querySelector('#appetizer-heading')
                let entreeHeading = document.querySelector('#entree-heading')
                let dessertHeading = document.querySelector('#dessert-heading')
                let legalFontSizeControl = document.querySelector('#legal-font-size-control')
                let clearChanges = document.querySelector('#clear-changes')
                let printPreview = document.querySelector('#print-preview')
                let legalDisclaimerSwitch = document.querySelector('#legal-disclaimer-switch')
            
                printPreview.addEventListener('click',(event)=>{
                    event.preventDefault()
                    location.replace('/specialsPrintPreview')
                })
                clearChanges.addEventListener('click',(event)=>{
                    event.preventDefault()
                    location.reload()
                })
                riojasPaddingTop.addEventListener('input', function(evt){
                    riojasPage.style.paddingTop = `${Number(this.value)}px`
                    
                })
                riojasPaddingSides.addEventListener('input', function(evt){
                    riojasPage.style.paddingLeft = `${Number(this.value)}px`
                    riojasPage.style.paddingRight = `${Number(this.value)}px`
                })
                todaysSpecialsPaddingBottom.addEventListener('input', function(evt){
                    todaysSpecials.style.paddingBottom = `${Number(this.value)}px`
                })
                menuItemsPadding.addEventListener('input', function(evt){
                    p.forEach((special,i)=>{
                        special.style.paddingTop = `${(Number(this.value))/2}px`
                        special.style.paddingBottom = `${(Number(this.value))/2}px`
                    })
                })
                menuItemsLineHeight.addEventListener('input', function(evt){
                    p.forEach((special,i)=>{
                        special.style.lineHeight = `${Number(this.value)}px`
                    })
                })
                headingsPadding.addEventListener('input', function(evt){
                    entreeHeading.style.paddingTop = `${Number(this.value)}px`
                    dessertHeading.style.paddingTop = `${Number(this.value)}px`
                })
                headingsPaddingBottom.addEventListener('input', function(evt){
                    appetizerHeading.style.paddingBottom = `${Number(this.value)}px`
                    entreeHeading.style.paddingBottom = `${Number(this.value)}px`
                    dessertHeading.style.paddingBottom = `${Number(this.value)}px`
                })
                todaysSpecialsFontSize.addEventListener('input', function(evt){
                    todaysSpecials.style.fontSize = `${Number(this.value)}px`
                })
                headingsFontSize.addEventListener('input', function(evt){
                    appetizerHeading.style.fontSize = `${Number(this.value)}px`
                    entreeHeading.style.fontSize = `${Number(this.value)}px`
                    dessertHeading.style.fontSize = `${Number(this.value)}px`
                })
                riojasFontSize.addEventListener('input', function(evt){
                    alert('working')
                        riojasPage.style.fontSize = `${Number(this.value)}px`
                })
                legalToggle.addEventListener('click', function(evt){
                    if (legalDisclaimerBoolean){
                        legalDisclaimerSwitch.value = 'false';
                    }else{
                        legalDisclaimerSwitch.value = 'true';
                    }
                    legalDisclaimer.classList.toggle('hidden')
                    paddingBottomControl.classList.toggle('hidden')
                    legalFontSizeControl.classList.toggle('hidden')
                    on.classList.toggle('remove')
                    off.classList.toggle('remove')
                })
            
            </script>
                
        <script src="main.js"></script>
       
</body>
</html>